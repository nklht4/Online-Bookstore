import java.util.List;  

public class Order {  
    private List<CartItem> items;  
    private double totalPrice;  

    public Order(List<CartItem> items) {  
        this.items = items;  
        this.totalPrice = calculateTotalPrice();  
    }  

    private double calculateTotalPrice() {  
        double total = 0;  
        for (CartItem item : items) {  
            total += item.getTotalPrice();  
        }  
        return total;  
    }  

    public double getTotalPrice() {  
        return totalPrice;  
    }  

    public List<CartItem> getItems() {  
        return items;  
    }  

    public void printOrderDetails() {  
        System.out.println("Order details:");  
        for (CartItem item : items) {  
            System.out.println("- " + item.getBook().getTitle() + " (" + item.getQuantity() + " copies) - $" + item.getTotalPrice());  
        }  
        System.out.println("总金额: $" + totalPrice);  
    }  
}
